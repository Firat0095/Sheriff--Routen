<!doctype html>
<html lang="de">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>SD â€“ Standorte & Routen</title>

<style>
:root{
  --bg:#0e1014;
  --panel:#151a22;
  --border:#232a36;
  --text:#eaeaea;
  --muted:#9aa4b2;
  --green:#1f9d55;
  --red:#b91c1c;
}

*{box-sizing:border-box}
body{
  margin:0;
  font-family:system-ui,Segoe UI,Roboto,Arial;
  background:var(--bg);
  color:var(--text);
}

/* SD INFO BAR */
.sd-bar{
  position:sticky;
  top:0;
  z-index:50;
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:12px;
  padding:10px 14px;
  background:#0f172a;
  border-bottom:2px solid #facc15;
}
.sd-bar b{color:#facc15}
.sd-bar small{color:#d1d5db}

.sd-bar button{
  background:#7c2d12;
  border:none;
  color:#fff;
  padding:6px 10px;
  border-radius:8px;
  cursor:pointer;
}
.sd-bar button:hover{filter:brightness(1.1)}

.credit{
  position:fixed;
  right:12px;
  bottom:10px;
  font-size:12px;
  color:#cbd5f5;
  opacity:.8;
}

.app{
  display:grid;
  grid-template-columns:360px 1fr;
  height:calc(100vh - 56px);
}

.sidebar{
  background:var(--panel);
  border-right:1px solid var(--border);
  padding:14px;
  overflow:auto;
}

.main{padding:14px; overflow:auto}

.group{margin-bottom:14px}
.group h3{
  margin:0 0 6px;
  font-size:14px;
  color:#facc15;
}

.item{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:8px 10px;
  border:1px solid var(--border);
  border-radius:10px;
  margin-bottom:6px;
  cursor:pointer;
}

.badge{
  padding:3px 8px;
  border-radius:999px;
  font-size:11px;
  font-weight:700;
}

.free{background:var(--green)}
.used{background:var(--red)}

.viewer{
  background:var(--panel);
  border:1px solid var(--border);
  border-radius:14px;
  padding:14px;
  min-height:100%;
}

img{
  max-width:100%;
  border-radius:12px;
  border:1px solid var(--border);
}
</style>
</head>

<body>

<div class="sd-bar">
  <div>
    <b>San Andreas Sheriff Department</b><br>
    <small>Jede Route max. 1Ã— pro RL-Tag | Nur mit RP-Grund</small>
  </div>
  <button onclick="resetAll()">ðŸ”„ Tages-Reset</button>
</div>

<div class="app">
  <div class="sidebar" id="list"></div>
  <div class="main">
    <div class="viewer" id="viewer">
      <small>Route auswÃ¤hlen</small>
    </div>
  </div>
</div>

<div class="credit">Created by <b>Frank White</b></div>

<script>
const routes = [
  {group:"Waffen", name:"Alamo Sea â€“ Nordufer Waffenteile", file:"images/Alamo_Sea_Nordufer_Waffenteile.png"},
  {group:"Waffen", name:"Waffenhersteller", file:"images/Waffenhersteller.png"},
  {group:"Meth", name:"Methroute (4002)", file:"images/Methroute_4002.png"}
];

const state = JSON.parse(localStorage.getItem("sd_routes") || "{}");

function save(){ localStorage.setItem("sd_routes", JSON.stringify(state)); }

function resetAll(){
  if(!confirm("Alle heutigen Markierungen zurÃ¼cksetzen?")) return;
  for(const k in state) delete state[k];
  save(); render();
}

function toggle(name){
  if(state[name]){
    alert("Diese Route wurde heute bereits gestÃ¼rmt.");
    return;
  }
  if(confirm(`Route "${name}" wirklich als GESTÃœRMT markieren?`)){
    state[name] = true;
    save(); render();
  }
}

function render(){
  const list = document.getElementById("list");
  list.innerHTML = "";
  const groups = {};
  routes.forEach(r=>{
    groups[r.group] ??= [];
    groups[r.group].push(r);
  });

  for(const g in groups){
    list.innerHTML += `<div class="group"><h3>${g}</h3></div>`;
    groups[g].forEach(r=>{
      const used = state[r.name];
      list.innerHTML += `
        <div class="item" onclick="openRoute('${r.file}','${r.name}')">
          ${r.name}
          <span class="badge ${used ? "used" : "free"}">
            ${used ? "GESTÃœRMT" : "FREI"}
          </span>
        </div>
      `;
    });
  }
}

function openRoute(file,name){
  document.getElementById("viewer").innerHTML = `
    <img src="${file}">
    <br><br>
    <button onclick="toggle('${name}')">Als gestÃ¼rmt markieren</button>
  `;
}

render();
</script>
</body>
</html>
